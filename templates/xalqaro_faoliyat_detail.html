{% extends "base.html" %}
{% load static %}

{% block title %}
{{ muayyan_xalqaro_yangilik.slug }}
{% endblock title %}

{% block extrahead %}
<!-- Swiper CSS -->
 <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
  
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">


{% endblock extrahead %}

{% block context %}
<div class="max-w-6xl mx-auto mt-16 px-4">

    <!-- Asosiy rasm, sarlavha va matn -->
    <div class="text-center mb-12">

    {% with birinchi_rasm=muayyan_xalqaro_yangilik.rasmlar.first %}
        {% if birinchi_rasm %}

            <!-- GLIGHTBOX TRIGGER -->
            <a href="{{ birinchi_rasm.image.url }}"
               class="glightbox"
               data-gallery="xalqaro-gallery"
               data-type="image">

                <img src="{{ birinchi_rasm.image.url }}"
                     alt="{{ muayyan_xalqaro_yangilik.title }}"
                     class="w-full max-h-[600px] object-cover rounded-3xl shadow-2xl mb-8 cursor-pointer">
            </a>

        {% endif %}
    {% endwith %}

    <h1 class="text-5xl font-bold text-blue-900 mb-6">
        {{ muayyan_xalqaro_yangilik.title }}
    </h1>

    <p class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed">
        {{ muayyan_xalqaro_yangilik.description }}
    </p>

    <p class="text-gray-500 mt-4">
        {{ muayyan_xalqaro_yangilik.created_at }}
    </p>

</div>

    <!-- Swiper Carousel -->
    {% if muayyan_xalqaro_yangilik.rasmlar.all %}
<div class="mt-20">
    <h2 class="text-3xl font-semibold text-center text-blue-900 mb-10">
        Ushbu yangilikka oid barcha rasmlar
    </h2>

    <div id="carouselXalqaro" class="carousel slide" data-ride="carousel" data-interval="false">

        <!-- Indicators -->
        <ol class="carousel-indicators">
            {% for rasm in muayyan_xalqaro_yangilik.rasmlar.all %}
            <li data-target="#carouselXalqaro"
                data-slide-to="{{ forloop.counter0 }}"
                class="{% if forloop.first %}active{% endif %}">
            </li>
            {% endfor %}
        </ol>

        <!-- Slides -->
        <div class="carousel-inner">
            {% for rasm in muayyan_xalqaro_yangilik.rasmlar.all %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">

                <!-- LIGHTBOX trigger -->
                <a href="{{ rasm.image.url }}"
                   class="glightbox"
                   data-gallery="xalqaro-gallery"
                   data-type="image">
                   
                    <img class="carousel-image"
                        src="{{ rasm.image.url }}"
                        alt="Rasm"
                        style="cursor: zoom-in; max-height:600px; object-fit:cover; width:100%;">
                </a>
            </div>
            {% endfor %}
        </div>

        <!-- Controls -->
        <a class="carousel-control-prev" href="#carouselXalqaro" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
        </a>
        <a class="carousel-control-next" href="#carouselXalqaro" role="button" data-slide="next">
            <span class="carousel-control-next-icon"></span>
        </a>

    </div>
</div>
{% endif %}


























    

</div>
{% endblock context %}

{% block static %}
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script>
    const lightbox = GLightbox({
        touchNavigation: true,
        loop: true,
        zoomable: true,
        draggable: true,
        openEffect: 'zoom',
        closeEffect: 'fade'
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script>
    const lightbox = GLightbox({
        touchNavigation: true,
        loop: true,
        zoomable: true,
        draggable: true,
        openEffect: 'zoom',
        closeEffect: 'fade'
    });
</script>

{% endblock static %}
