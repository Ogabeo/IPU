{% extends "base.html" %}
{% load static %}

{% block title %}Qidiruv natijalari{% endblock title %}
{% block style %}
<style>
    @keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slideUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
  animation: fadeIn 0.8s ease-out both;
}
.animate-slide-up {
  animation: slideUp 0.8s ease-out both;
}
.section-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #0f172a;
}

</style>
<style>
    @keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.4s ease-out both;
}

</style>
{% endblock style %}
{% block context %}
<div class="max-w-7xl mx-auto px-4 py-8">

  <!-- üîπ Sahifa sarlavhasi -->
  <div class="mb-10 rounded-2xl bg-gradient-to-r from-sky-50 to-blue-50 
            px-5 py-6 shadow-sm animate-fade-in">

  <h1 class="text-xl sm:text-2xl font-semibold text-sky-900 tracking-wide">
    Qidiruv natijalari
  </h1>

  <p class="mt-2 text-sm sm:text-base text-gray-600">
    ‚Äú<span class="font-medium text-sky-700">{{ search_query }}</span>‚Äù
    bo‚Äòyicha topilgan ma‚Äôlumotlar
  </p>

  <!-- nozik pastki chiziq -->
  <div class="mt-3 h-[2px] w-20 bg-sky-600 rounded-full"></div>
</div>


  <!-- üîπ O‚ÄòQITUVCHILAR -->
  {% if workers %}
<section class="mb-16 animate-slide-up">
    <div class="flex flex-col gap-10">
    {% for worker in workers %}

    <div class="w-full bg-white shadow-xl rounded-3xl overflow-hidden transition-all duration-300 hover:shadow-2xl">

      <div class="flex flex-col lg:flex-row">

        <!-- RASM -->
        <div class="lg:w-1/4 w-full bg-gray-50 flex justify-center items-center p-6">
          <a href="{% url 'home:muayyan_xodim' worker.slug %}">
            <img
              class="h-72 w-56 object-cover rounded-2xl shadow-md"
              {% if worker.photo %}
                src="{{ worker.photo.url }}"
              {% else %}
                src="{% static 'img/default_user.png' %}"
              {% endif %}
              alt="{{ worker.full_name }}">
          </a>
        </div>

        <!-- MA‚ÄôLUMOT -->
        <div class="lg:w-3/4 w-full p-8 bg-gradient-to-br from-[#f9fafc] to-[#eef2ff]">

          <!-- Lavozim -->
          <h2 class="font-serif text-[#1a237e] text-2xl md:text-3xl lg:text-4xl font-bold mb-3 tracking-wide">
            {{ worker.lavozim }}
          </h2>

          <!-- Ism familiya -->
          <h3 class="text-[#0d47a1] font-semibold text-xl md:text-2xl lg:text-3xl mb-5">
            <a href="{% url 'home:muayyan_xodim' worker.slug %}"
               class="hover:text-[#1565c0] transition-colors">
              {{ worker.full_name }}
            </a>
          </h3>

          <!-- Info -->
          <div class="space-y-3 text-gray-800 text-base md:text-lg lg:text-xl">

            <p>
              <span class="font-semibold">Qabul kunlari:</span>
              <span class="text-[#0d47a1]">{{ worker.qabul_kunlar }}</span>
            </p>

            <p>
              <span class="font-semibold">Telefon:</span>
              <span class="text-[#0d47a1] break-all">{{ worker.phone }}</span>
            </p>

            <p>
              <span class="font-semibold">E-mail:</span>
              <a href="mailto:{{ worker.email_address }}"
                 class="text-[#0d47a1] underline hover:text-[#1565c0] transition break-all">
                {{ worker.email_address }}
              </a>
            </p>

          </div>
        </div>

      </div>
    </div>

    {% endfor %}
  </div>
</section>
{% endif %}


  <!-- üîπ FANLAR -->
  {% if fans %}
  <section class="mb-14 animate-slide-up">
    <h2 class="section-title">üìò Fanlar</h2>

    <div class="grid md:grid-cols-2 gap-6 mt-6">
      {% for fan in fans %}
      <a href="{% url 'home:fan_tarkibi' fan.slug %}"
         class="group flex bg-white border border-gray-200 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all">

        <img
          class="w-40 h-40 object-cover"
          {% if fan.image %}src="{{ fan.image.url }}"{% else %}src="{% static 'img/subject.png' %}"{% endif %}
          alt="{{ fan.title }}">

        <div class="p-5 flex-1">
          <h3 class="text-xl font-semibold text-sky-900 group-hover:underline">
            {{ fan.title }}
          </h3>
          <p class="mt-2 text-gray-600">
            Fan bo‚Äòyicha barcha hujjatlar va materiallar jamlanmasi
          </p>
        </div>
      </a>
      {% endfor %}
    </div>
  </section>
  {% endif %}

  <!-- üîπ YANGILIKLAR -->
  {% if yangiliklar %}
  <section class="mb-14 animate-slide-up">
    <h2 class="section-title">üì∞ Yangiliklar</h2>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
      {% for yangilik in yangiliklar %}
      <a href="{% url 'home:yangilik_detail' yangilik.slug %}"
         class="group bg-white rounded-2xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-xl transition-all">

        <img src="{{ yangilik.image.url }}"
             class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500">

        <div class="p-5">
          <h3 class="font-semibold text-lg text-gray-800 group-hover:text-sky-700 transition">
            {{ yangilik.title }}
          </h3>
          <p class="text-sm text-gray-500 mt-2">
            {{ yangilik.data }}
          </p>
        </div>
      </a>
      {% endfor %}
    </div>
  </section>
  {% endif %}

  <!-- üîπ E‚ÄôLONLAR -->
  {% if elonlar %}
  <section class="mb-14 animate-slide-up">
    <h2 class="section-title">üì¢ E‚Äôlonlar</h2>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6">
      {% for elon in elonlar %}
      <a href="{% url 'home:elon' elon.slug %}"
         class="group bg-white rounded-2xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-xl transition-all">

        <img src="{{ elon.image.url }}"
             class="w-full h-44 object-cover group-hover:scale-105 transition-transform duration-500">

        <div class="p-5">
          <h3 class="font-semibold text-lg text-gray-800">
            {{ elon.title }}
          </h3>
          <p class="text-gray-600 mt-2 text-sm">
            {{ elon.short_description|truncatewords:18 }}
          </p>
          <p class="text-xs text-gray-500 mt-3">
            {{ elon.data }} | {{ elon.time }}
          </p>
        </div>
      </a>
      {% endfor %}
    </div>
  </section>
  {% endif %}

  <!-- üîπ NATIJA YO‚ÄòQ -->
  {% if not workers and not fans and not yangiliklar and not elonlar %}
  <div class="text-center py-20 animate-fade-in">
    <h3 class="text-xl font-semibold text-gray-700">
      Hech qanday natija topilmadi
    </h3>
    <p class="text-gray-500 mt-2">
      Qidiruv so‚Äòzini o‚Äòzgartirib qayta urinib ko‚Äòring
    </p>
  </div>
  {% endif %}

</div>
{% endblock context %}
