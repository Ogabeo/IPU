{% extends "base.html" %}
{% load static %}
{% block title %}
Ilmiy yangiliklar ro'yxati
{% endblock title %}
{% block style %}
<style>
  <style>
.pro-card {
    position: relative;
    overflow: hidden;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.18);
    backdrop-filter: blur(6px);
    background: #ffffff10;

    height: 380px;
    display: flex;
    flex-direction: column;

    /* Silliq animatsiya */
    transform: translateY(0);
    transition: transform 0.35s cubic-bezier(0.25, 0.46, 0.45, 1), 
                box-shadow 0.35s ease;
}

.pro-card:hover {
    transform: translateY(-4px);  /* silliq sirg‘alish */
    box-shadow: 0 14px 28px rgba(0,0,0,0.2);
}

.pro-img {
    width: 100%;
    height: 55%;
    overflow: hidden;
}

.pro-img img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform .4s ease;
}

/* Hoverda silliq zoom */
.pro-card:hover .pro-img img {
    transform: scale(1.1);
}

.pro-body {
    padding: 14px 18px;
    height: 45%; /* pastki qism ham bir xil bo‘lishi uchun */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* TITLE dizayni */
.pro-title {
    font-size: 18px;
    font-weight: 600;
    color: #003d91;
    background: rgba(255,255,255,0.5);
    padding: 6px 10px;
    border-radius: 6px;
    text-decoration: none;
    transition: all .3s ease;
}

/* Hoverda title rangi to‘qlashadi */
.pro-card:hover .pro-title {
    color: #001f5e;
    text-decoration: none; /* underline yo‘qoladi */
    background: rgba(255,255,255,0.7);
}

.pro-desc {
    margin-top: 10px;
    font-size: 15px;
    font-weight: 400;
    color: #222;
    opacity: .9;
    line-height: 1.3;
    height: 40px; /* description balandligi ham bir xil! */
    overflow: hidden;
}

/* Description uzun so‘zlarni buzmaydi */
.pro-desc,
.pro-desc * {
    word-break: break-word;
}

/* Sana */
.pro-date {
    font-size: 13px;
    color: #555;
    opacity: .8;
}

</style>
</style>
{% endblock style %}
{% block extrahead %}

{% endblock extrahead %}

{% block context %}
<br>
<br>
<br>
<!-- search -->
    <div class="max-w-4xl mx-auto mb-10">
  <form method="get" class="flex flex-col sm:flex-row items-center gap-3 bg-white p-4 rounded-lg shadow-md">

    <!-- Qidiruv input -->
    <div class="relative flex-1 w-full">
      <input
        type="search"
        name="search"
        id="search"
        class="block w-full pl-10 pr-4 py-2 text-gray-800 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"
        placeholder="Nomi bo‘yicha qidirish..."
        {% if search_query %} value="{{ search_query }}" {% endif %}
      />
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"
        fill="none"
        viewBox="0 0 20 20"
        stroke="currentColor"
        stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
      </svg>
    </div>

    <!-- Tugma -->
    <button
      type="submit"
      class="px-6 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-400 transition">
      Qidirish
    </button>
  </form>
</div>





{% if ilmiy_yangiliklar %}
  <div class="container my-5">


      <div class="row g-4">

      {% for ilmiy_yangilik in ilmiy_yangiliklar %}
          <div class="col-12 col-sm-6 col-md-4 col-lg-3">
              <div class="pro-card">
                  <a href="">
                      <div class="pro-img">
                          <img src="{{ ilmiy_yangilik.rasmlar.first.image.url }}" alt="">
                      </div>
                  </a>

                  <div class="pro-body">
                      <a href="" class="pro-title">{{ ilmiy_yangilik.title }}</a>

                      <p class="pro-desc">
                          {{ ilmiy_yangilik.description|slice:":50" }}
                      </p>

                      <p class="pro-date">{{ ilmiy_yangilik.created_at }}</p>
                  </div>
              </div>
          </div>
      {% endfor %}

      </div>

      <div class="text-center mt-4">
          <a href="{% url "resources:ilmiy_yangiliklar" %}"><button class="btn btn-outline-primary px-4 rounded-pill">Barchasi</button></a>
      </div>

  </div>
{% endif %}
<!-- Pagination -->
    <div class="max-w-screen-xl mx-auto p-4 sm:mb-28 mb-14">
      <nav aria-label="Page navigation example ">
        <ul class="flex items-center justify-center -space-x-px h-10 text-base">
            <li>
            <a href="{% if page_obj.has_previous %}?page={{ page_obj.previous_page_number }}{{ pagination_url }}{% endif %}"
                class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                <span class="sr-only">Previous</span>
                <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4" />
                </svg>
            </a>
            </li>
            {% for page in page_obj.paginator.page_range %}
            <li>
                <a href="?page={{ page }}{{ pagination_url }}"
                    class="flex items-center justify-center px-4 h-10 leading-tight {% if page == page_obj.number %}text-blue-600 border border-blue-300 bg-blue-50 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white{% else %}text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white{% endif %}">
                {{ page }}
                </a>
            </li>
            {% endfor %}
            <li>
            <a href="{% if page_obj.has_next %}?page={{ page_obj.next_page_number }}{{ pagination_url }}{% endif %}"
                class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white">
                <span class="sr-only">Next</span>
                <svg class="w-3 h-3 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
                </svg>
            </a>
            </li>
        </ul>
      </nav>
    </div>

{% endblock context %}

{% block static %}

{% endblock static %}
