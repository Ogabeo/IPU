<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    {% block title %}
    {% endblock title %}
  </title>
  <!-- tailwind css -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- flowbite -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
  <!-- google fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
  <!-- tailwind custom style -->
  <style type="text/tailwindcss">
   
    @layer utilities {
        .text {
          font-size: 25px;
          text-align: center;
          text-transform: uppercase;
        }
      }
      {% block style %}
      {% endblock style %}
      
    </style>
    <style>
    :root {
      --harvard-crimson: #a41034;
      --dark-bg: #0a0a0a;
      --text-light: #ffffff;
      --text-muted: #888888;
      --border-color: #2a2a2a;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      margin: 0;
      overflow-x: hidden;
      background: #fff;
    }

    /* Topbar */
    .topbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 24px;
      z-index: 1200;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    }

    .top-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .icon-btn {
      background: transparent;
      color: #000;
      border: 1px solid rgba(0, 0, 0, 0.15);
      border-radius: 4px;
      padding: 8px 16px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      font-size: 14px;
      transition: all 0.2s ease;
      font-family: "Inter", sans-serif;
    }

    .icon-btn:hover {
      background: rgba(0, 0, 0, 0.03);
    }

    /* Search Overlay */
    .search-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: var(--dark-bg);
      z-index: 1300;
      display: none;
      flex-direction: column;
      padding: 120px 48px 60px;
    }

    .search-overlay.open {
      display: flex;
    }

    .search-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 40px;
    }

    .search-input {
      width: 100%;
      background: transparent;
      border: none;
      border-bottom: 2px solid var(--text-muted);
      color: var(--text-light);
      font-size: 24px;
      padding: 12px 0;
      font-family: "Inter", sans-serif;
    }

    .search-input:focus {
      outline: none;
      border-bottom-color: var(--text-light);
    }

    .search-input::placeholder {
      color: var(--text-muted);
    }

    /* Hero section */
    .main-content {
      padding-top: 70px;
    }

    .hero-section {
      height: 70vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
      text-align: center;
      padding: 0 20px;
    }

    .hero-title {
      font-family: "Playfair Display", serif;
      font-size: clamp(48px, 8vw, 96px);
      color: #fff;
      margin-bottom: 24px;
      font-weight: 700;
      line-height: 1;
    }

    .hero-subtitle {
      font-size: 18px;
      color: rgba(255, 255, 255, 0.95);
      max-width: 600px;
      line-height: 1.6;
      font-weight: 400;
    }

    /* Menu overlay */
    .menu-overlay {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  flex-direction: row;
  color: var(--text-light);
  visibility: hidden;
  transform: translateY(-100%);
  transition: transform 0.4s ease;

  /* Fon rasmi + gradient qoplama */
  background:
    linear-gradient(to right, rgba(0, 0, 0, 0.95) 0%, rgba(0, 0, 0, 0.95) 35%, rgba(0, 0, 0, 0.8) 90%, rgba(0, 0, 0, 0.7) 100%),
    url("{% static 'img/menu_back.jpg' %}") no-repeat center center fixed;

  background-size: cover;
  background-blend-mode: normal;
}


    .menu-overlay.open {
      transform: translateY(0);
      visibility: visible;
    }

    .menu-left {
      width: 34%;
      min-width: 34px;
      padding: 100px 48px 60px;
      border-right: 1px solid var(--border-color);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    .menu-item {
        font-family: "Playfair Display", serif;
        font-size: 18px;
        font-weight: 500;
        color: var(--text-light);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08); /* juda yengil chiziq */
        padding: 10px 0;
        cursor: pointer;
        transition: transform 0.15s ease, color 0.2s ease;
    }

    .menu-item:hover {
        transform: translateX(4px);
        color: #e4e4e4; /* akademik yumshoq hover */
    }

    /* Linklardagi ko‚Äòk underline muammosini 100% yo‚Äòq qiladi */
    .menu-left a {
        text-decoration: none !important;
    }

    .menu-center {
      flex: 1;
      padding: 100px 48px 60px;
      overflow-y: auto;
      opacity: 0;
      transform: translateX(-20px);
      transition: all 0.3s ease;
    }

    .menu-center.open {
      opacity: 1;
      transform: translateX(0);
    }

    .submenu-title {
      font-family: "Playfair Display", serif;
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 16px;
    }

    .submenu-desc {
      color: var(--text-muted);
      margin-bottom: 24px;
    }

    .submenu-links a {
      color: var(--text-light);
      text-decoration: none;
      display: block;
      margin-bottom: 8px;
      transition: color 0.2s ease;
    }

    .submenu-links a:hover {
      color: var(--text-muted);
    }

    /* Quick links */
    .quick-links-bottom {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 20px 48px;
      border-top: 1px solid var(--border-color);
      background: rgba(0, 0, 0, 0.3);
    }

    /* Overlay close buttons */
    .overlay-close {
      position: fixed;
      top: 24px;
      right: 32px;
      color: #fff;
      background: rgba(255, 255, 255, 0.12);
      border: 1px solid rgba(255, 255, 255, 0.25);
      border-radius: 4px;
      font-size: 26px;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 2000;
      transition: all 0.3s ease;
    }

    .overlay-close:hover {
      background: rgba(255, 255, 255, 0.25);
    }


    /* ‚úÖ Responsive Styles - Clean and Fixed */

    /* ‚úÖ Responsive Styles - Improved for Mobile */

    /* For tablets and smaller screens */
    @media (max-width: 768px) {

      /* Overlay adjustments */
      .menu-overlay {
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding-top: 80px;
      }

      .menu-left,
      .menu-center {
        width: 100%;
        padding: 60px 24px;
        text-align: center;
      }

      /* Close button in overlay */
      .overlay-close {
        position: absolute;
        top: 20px;
        right: 20px;
        width: 42px;
        height: 42px;
        background: transparent;
        color: white;
        font-size: 2rem;
        border: none;
        cursor: pointer;
      }

      /* Topbar layout fix */
      header.topbar {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        padding: 14px 18px;
        /* slightly more padding */
        gap: 8px;
      }

      .topbar .logo {
        font-size: 1rem;
      }

      /* ‚úÖ Move buttons slightly downward and darken */
      .topbar-buttons {
        display: flex;
        align-items: center;
        gap: 8px;
        position: relative;
        top: 4px;
        /* moves buttons slightly down */
      }

      .topbar .menu-btn,
      .topbar .search-btn {
        background: #222;
        /* darker background */
        color: #fff;
        /* white text/icon */
        border: none;
        border-radius: 6px;
        padding: 8px 12px;
        font-size: 1rem;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        transition: background 0.3s ease;
      }

      .topbar .menu-btn:hover,
      .topbar .search-btn:hover {
        background: #111;
        /* slightly darker on hover */
      }

      /* Hero section fix */
      .hero-section {
        height: auto;
        min-height: 60vh;
        padding: 40px 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        text-align: center;
      }

      .hero-section h1 {
        font-size: 1.8rem;
        margin-bottom: 12px;
      }

      .hero-section p {
        font-size: 1rem;
        line-height: 1.5;
        max-width: 90%;
      }
    }

    /* ‚úÖ Extra small devices (under 400px) */
    @media (max-width: 400px) {
      header.topbar {
        flex-wrap: wrap;
        justify-content: center;
        text-align: center;
        gap: 6px;
        padding: 12px;
      }

      .topbar .search-btn,
      .topbar .menu-btn {
        flex: 1;
        text-align: center;
        background: #222;
        /* still dark for visibility */
        color: #fff;
        padding: 10px 12px;
      }

      .topbar-buttons {
        width: 100%;
        justify-content: center;
        position: relative;
        top: 6px;
        /* move slightly lower again for smaller screens */
      }

      .hero-section {
        padding: 30px 10px;
      }
    }
  </style>
  <!-- tailwind css custom class -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            login: '#0084A8FF',
            hover_login: "#046884"
          },
          backgroundColor: {
            login: "#0084A8FF",
            hover_login: "#046884"
          },
          borderColor: {
            login: "#0084A8FF",
          }
        }
      }
    }
  </script>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/index.css' %}" />
  <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  <link rel="stylesheet" href="{% static 'css/messages.css' %}" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
{% block extrahead %}
{% endblock extrahead %}
</head>

<body class="flex flex-col min-h-screen">
    <div class="w-full mx-auto bg-blue-900 flex-grow">
      <nav class="bg-blue-950 border-gray-200 sm:py-5 py-2 fixed top-0 left-0 w-full z-50">
      
      <header class="topbar" style="background-color: #0A2A66; color: white; padding: 10px 20px; display: flex; align-items: center; justify-content: space-between;">
        <a href="/" class="flex items-center sm:space-x-3 space-x-1 rtl:space-x-reverse no-underline hover:no-underline">
          <img src="{% static 'img/logo.jpg' %}" class="sm:h-8 h-4" alt="Flowbite Logo" />
          <span class="self-center sm:text-2xl text-[15px] font-semibold whitespace-nowrap text-white">
            Kompyuter tizimlari kafedrasi
          </span>
        </a>

        <div class="top-actions flex items-center space-x-4">
          <button id="searchBtn" class="icon-btn text-white hover:text-gray-200 transition"><span>üîç</span> <span>Search</span></button>
          <button id="menuBtn" class="icon-btn text-white hover:text-gray-200 transition"><span>‚ò∞</span> <span>Menu</span></button>
        </div>
      </header>


<!-- Search Overlay -->
<div id="searchOverlay" class="search-overlay">
  <button class="overlay-close" id="closeSearch">√ó</button>
  <div class="search-header">
    <div style="display: flex; align-items: center; gap: 12px;">
      <div style="width: 44px; height: 44px; border-radius: 6px; overflow: hidden; display: flex; align-items: center; justify-content: center; background-color: white;">
        <img src="{% static 'img/logo.jpg' %}" alt="Komputer tizimlari" style="width: 100%; height: 100%; object-fit: contain;" />
      </div>
      <div style="color: var(--text-light); font-weight: 700;">
        Kompyuter tizimlari kafedrasi
      </div>
    </div>
  </div>

  <form method="get" action="{% url 'home:search_results' %}" class="flex items-center gap-2">
    <input type="text" name="search" class="search-input" placeholder="O'zingizga kerakli ma'lumotni qidiring:"
           value="{{ request.GET.search|default:'' }}">
    <button type="submit" class="btn btn-primary">Qidiruv</button>
  </form>
</div>


<!-- Menu Overlay -->
  <div id="menuOverlay" class="menu-overlay">
    <button class="overlay-close" id="closeMenu">√ó</button>

    <nav class="menu-left" id="mainMenuList">
      <a href="/"><div class="menu-item no-underline hover:no-underline" data-key="kafedra_faoliyati">Kafedra faoliyati</div></a>
      <a href="{% url 'home:kafedra_xodimlar' %}"><div class="menu-item no-underline hover:no-underline" data-key="kafedra_tarkibi">Kafedra tarkibi</div></a>
      <a href="{% url 'resources:ilmiy_faoliyat' %}"><div class="menu-item no-underline hover:no-underline" data-key="ilmiy_faoliyat">Ilmiy faoliyat</div></a>
      <div class="menu-item no-underline hover:no-underline" data-key="uquv_faoliyat">O'quv faoliyat</div>
      <a href="{% url 'resources:xalqaro_hamkorlik' %}"><div class="menu-item no-underline hover:no-underline" data-key="xalqaro_hamkorlik">Xalqaro hamkorlik</div></a>
      <div class="menu-item no-underline hover:no-underline" data-key="meyoriy_hujjatlar">Me'yoriy hujjatlar</div>
    </nav>


    <div class="menu-center" id="submenuPanel">
      <div id="submenuContent"></div>
    </div>
  </div>

  <script>
    const menuBtn = document.getElementById("menuBtn");
    const menuOverlay = document.getElementById("menuOverlay");
    const closeMenu = document.getElementById("closeMenu");

    const searchBtn = document.getElementById("searchBtn");
    const searchOverlay = document.getElementById("searchOverlay");
    const closeSearch = document.getElementById("closeSearch");

    const searchInput = document.getElementById("searchInput");
    const submenuPanel = document.getElementById("submenuPanel");
    const submenuContent = document.getElementById("submenuContent");

    const submenuData = {
      uquv_faoliyat: {
        title: "Kafedra faoliyatiga oid o‚Äòquv faoliyatlar haqida ma'lumotlar",
        desc: "Kafedra faoliyati tarkibiga kiradigan fanlar, o'quv uslubiy faoliyat haqida batafsil ma'lumot",
        links: [{ name: "Fanlar", url: "{% url 'home:fanlar' %}" },
        { name: "O‚Äòquv-uslubiy faoliyat", url: "{% url 'resources:uquv_faoliyati' %}" }]
      },
      
      meyoriy_hujjatlar: {
        title: "Me'yoriy hujjatlar",
        desc: "Kafedraga tegishli barcha me'yoriy hujjatlar ro'yxati.",
        links: [
          {% for meyoriyhujjat in meyoriy_hujjatlar %}  
          { 
              name: "{{ meyoriyhujjat.title|escapejs }}", 
              url: "{{ meyoriyhujjat.file_link|escapejs }}" 
            }{% if not forloop.last %},{% endif %}
          {% endfor %}
        ]
      }

    };

    menuBtn.onclick = () => {
      menuOverlay.classList.add("open");
      document.body.style.overflow = "hidden";
      showSubmenu("academics");
    };
    closeMenu.onclick = () => {
      menuOverlay.classList.remove("open");
      document.body.style.overflow = "";
    };

    searchBtn.onclick = () => {
      searchOverlay.classList.add("open");
      document.body.style.overflow = "hidden";
      searchInput.focus();
    };
    closeSearch.onclick = () => {
      searchOverlay.classList.remove("open");
      document.body.style.overflow = "";
    };

    document.getElementById("mainMenuList").addEventListener("click", e => {
      const item = e.target.closest(".menu-item");
      if (!item) return;
      showSubmenu(item.dataset.key);
    });

    function showSubmenu(key) {
      const data = submenuData[key];
      submenuPanel.classList.add("open");
      submenuContent.innerHTML = `
        <div class="submenu-title">${data.title}</div>
        <div class="submenu-desc">${data.desc}</div>
        <div class="submenu-links">
          ${data.links
            .map(link => {
              if (typeof link === 'object') {
                return `<a href="${link.url}" class="block text-blue-700 hover:text-blue-900 font-medium">${link.name}</a>`;
              } else {
                return `<a href="#" class="block text-blue-700 hover:text-blue-900 font-medium">${link}</a>`;
              }
            })
            .join("")}
        </div>`;

    }

    window.addEventListener("keydown", e => {
      if (e.key === "Escape") {
        menuOverlay.classList.remove("open");
        searchOverlay.classList.remove("open");
        document.body.style.overflow = "";
      }
    });
  </script>


        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}" id="csrf_token">
        
          </div>
      </nav>
    </div>
    <hr class="h-px bg-gray-200 border-0 dark:bg-gray-700" />
  
    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li class="message-item {% if message.tags %} {{ message.tags }}{% endif %}">
            {{ message }}
        </li>
        {% endfor %}
    </ul>
    {% endif %}
    
    <div>
      <section 
  class="py-16 relative bg-no-repeat bg-center bg-cover" 
  style="
    background-image: url('{% static 'img/background.jpg' %}');
    background-attachment: fixed;
    background-size: cover;
  "
>
        {% block context %}
        {% endblock context %}
    </section>
    </div>

<footer class="bg-blue-950 text-gray-200 py-6">
  <div class="max-w-screen-xl mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
    
    <!-- Chap qism -->
     <a href="/" class="no-underline hover:no-underline">
      <div class="flex items-center space-x-3 mb-4 md:mb-0">
        <img src="{% static 'img/logo.jpg' %}" class="h-8" alt="Logo" />
        <span class="text-lg font-semibold text-white">
          Kompyuter tizimlari kafedrasi
        </span>
      </div>
    </a>


    <!-- O'rta qism -->
    <div class="text-center md:text-left mb-4 md:mb-0">
      <p class="text-sm text-gray-300">
        Iqtisodiyot va pedagogika universiteti
      </p>
      <p class="text-sm text-gray-400">
        "Kompyuter tizimlari" kafedrasi rasmiy sahifasi
      </p>
    </div>

    <!-- O'ng qism (admin aloqa) -->
    <div class="flex items-center space-x-3">
  <p class="text-sm text-gray-400">Admin bilan bog‚Äòlanish:</p>
  <a class="size-10 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent text-white hover:bg-sky-600 transition-all duration-300"
     href="https://t.me/ogabek238" target="_blank" rel="noopener noreferrer">
    <svg class="flex-shrink-0 size-5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
      <path d="M12 0C5.372 0 0 5.373 0 12c0 6.627 5.372 12 12 12s12-5.373 12-12c0-6.627-5.372-12-12-12zm5.437 7.422l-1.9 8.946c-.143.636-.52.792-1.053.494l-2.91-2.146-1.404 1.35c-.155.154-.285.285-.583.285l.21-2.976 5.418-4.894c.236-.21-.051-.327-.366-.118l-6.7 4.216-2.885-.9c-.627-.196-.641-.627.131-.928l11.244-4.337c.52-.191.975.127.808.913z"/>
    </svg>
  </a>
</div>

  </div>

  <!-- Pastki chiziq -->
  <div class="border-t border-gray-700 mt-4 pt-4 text-center text-xs text-gray-400">
    ¬© 2025 Kompyuter tizimlari kafedrasi. Barcha huquqlar himoyalangan.
  </div>
</footer>


</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
{% block addscript %}
{% endblock addscript %}
<script>
  
    {% block script %}
    {% endblock script %}
</script>
</html>