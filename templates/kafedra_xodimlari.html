{% extends "base.html" %}
{% load static %}

{% block title %}Kafedra xodimlari{% endblock title %}

{% block context %}

<!-- Sarlavha -->
<div class="text-center mb-14 relative z-10">
  <br>
  <h1
    class="text-3xl md:text-4xl font-bold text-blue-800 uppercase tracking-wider bg-white/60 inline-block px-6 py-2 rounded-xl shadow-sm">
    Kompyuter tizimlari kafedrasi professor-o‘qituvchilari
  </h1>
</div>

<!-- Butun layout -->
<div class="max-w-7xl mx-auto relative z-10">

  <!-- Kafedra mudiri — markazda -->
  <div class="flex justify-center mb-16">
    <div class="flex flex-col items-center">
      <div class="relative w-72 h-72 md:w-80 md:h-80 transition-transform duration-300 hover:scale-105">
        <svg viewBox="0 0 200 230" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
          <polygon
            points="40,10 160,10 220,110 160,210 40,210 -20,110"
            class="fill-blue-50 stroke-blue-400"
            stroke-width="3"
          />
          <defs>
            <clipPath id="mudirHex">
              <polygon points="40,10 160,10 220,110 160,210 40,210 -20,110" />
            </clipPath>
          </defs>
          <a href="{% url 'home:muayyan_xodim' kafedra_mudiri.slug %}">
            <image
              {% if kafedra_mudiri.photo %}
                  xlink:href="{{ kafedra_mudiri.photo.url }}"
              {% else %}
                  xlink:href="{% static 'img/default_user.png' %}"
              {% endif %}
              width="200"
              height="230"
              preserveAspectRatio="xMidYMid slice"
              clip-path="url(#mudirHex)"
            />
          </a>
        </svg>
      </div>
      <div class="mt-3 text-center">
        <a href="{% url 'home:muayyan_xodim' kafedra_mudiri.slug %}" 
           class="no-underline hover:no-underline focus:no-underline">
          <h3 class="text-xl md:text-2xl font-bold text-gray-900">{{ kafedra_mudiri.full_name }}</h3>
          <p class="text-blue-700 font-medium">{{ kafedra_mudiri.lavozim }}</p>
        </a>
      </div>
    </div>
  </div>

  <!-- O‘qituvchilar — grid tartibida mudir atrofida -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-12 gap-y-14 justify-items-center">
    {% for xodim in xodimlar %}
      {% if forloop.counter > 1 %}
        <a href="{% url 'home:muayyan_xodim' xodim.slug %}" class="group relative block">
          <div class="relative w-56 h-56 md:w-60 md:h-60 transition-transform duration-300 hover:scale-105">
            <svg viewBox="0 0 200 230" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
              <polygon
                points="40,10 160,10 220,110 160,210 40,210 -20,110"
                class="fill-blue-50 stroke-blue-400 group-hover:fill-blue-100 transition-all duration-300"
                stroke-width="2.5"
              />
              <defs>
                <clipPath id="hex{{ forloop.counter }}">
                  <polygon points="40,10 160,10 220,110 160,210 40,210 -20,110" />
                </clipPath>
              </defs>
              <image
                {% if xodim.photo %}
                  xlink:href="{{ xodim.photo.url }}"
                {% else %}
                  xlink:href="{% static 'img/default_user.png' %}"
                {% endif %}
                x="0"
                y="20"
                width="200"
                height="220"
                preserveAspectRatio="xMidYMid slice"
                clip-path="url(#hex{{ forloop.counter }})"
              />
            </svg>
          </div>

          <div
            class="absolute -bottom-7 left-1/2 -translate-x-1/2 w-64 text-center bg-white/70 backdrop-blur-sm py-2 rounded-xl shadow-md group-hover:shadow-xl transition duration-300">
            <h3 class="text-lg md:text-xl font-semibold text-gray-900 tracking-wide">{{ xodim.full_name }}</h3>
            <p class="text-sm md:text-base text-blue-700 font-medium italic">{{ xodim.lavozim }}</p>
          </div>
        </a>
      {% endif %}
    {% endfor %}
  </div>
</div>

<!-- Fon ustiga engil gradient qatlami -->
<div class="absolute inset-0 bg-gradient-to-br from-blue-50 via-white to-blue-100 z-0"></div>

{% endblock context %}
